<!DOCTYPE html>
<html>
<head>
    <title>Get latitude and longitude from address google map api javascript</title>
</head>
<body>
  <div>
    <h3> Enter an adress and press the button</h3>

   <input id="address" type="text" placeholder="Enter address here" />
   <button id="btn">Get LatLong</button>
   <div>
       <p>Latitude:
           <input type="text" id="latitude" readonly />
       </p>
       <p>Longitude:
           <input type="text" id="longitude" readonly />
       </p>
   </div>
</div>
 
<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
<script src="https://ajax.googleapis.com/ajax/libs/handlebars/4.7.7/handlebars.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCzYaZQlUdq9fnIyOzwpaS3rYLWruOPqaQ&callback=initMap&libraries=places,geometry&solution_channel=GMP_QB_locatorplus_v4_cABD" async defer></script>
<script>
function showResult(result) {
    document.getElementById('latitude').value = result.geometry.location.lat();
    document.getElementById('longitude').value = result.geometry.location.lng();
}

function getLatitudeLongitude(callback, address) {
    // If adress is not supplied, use default value 'Ferrol, Galicia, Spain'
    address = address || 'Ferrol, Galicia, Spain';
    // Initialize the Geocoder
    geocoder = new google.maps.Geocoder();
    if (geocoder) {
        geocoder.geocode({
            'address': address
        }, function (results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                callback(results[0]);
            }
        });
    }
}

var button = document.getElementById('btn');

button.addEventListener("click", function () {
    let collectionPoint = JSON.parse(localStorage.getItem("collectionPoint"))
    for(i = 0; i < collectionPoint.lenght; i++){
    var address = `${collectionPoint[i].logradouro}, ${collectionPoint[i].numero}` }
    getLatitudeLongitude(showResult, address)
});
  </script>
</body>
</html>